"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[845],{526:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(43),l=s(180),i=s(625),n=s(579);const a=e=>{let{showMenu:t=!0}=e;const{user:s,logout:a}=(0,i.A)(),o=(0,l.Zp)(),c=(0,l.zy)(),[d,h]=(0,r.useState)(!1),m=(0,r.useRef)(null),x=c.pathname;(0,r.useEffect)((()=>{function e(e){m.current&&!m.current.contains(e.target)&&h(!1)}return d&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[d]);return(0,n.jsx)("div",{children:t&&(0,n.jsxs)("div",{ref:m,children:[(0,n.jsx)("button",{onClick:()=>{h(!d)},className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-md","aria-label":"Menu",title:"Menu",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),d&&(0,n.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-20",children:[(0,n.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-700",children:["Hi, ",(null===s||void 0===s?void 0:s.username)||"Guest"]}),(0,n.jsx)("hr",{className:"my-1"}),"/home"!==x&&(0,n.jsx)("button",{onClick:()=>{o("/home"),h(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Home"}),"/profile"!==x&&(0,n.jsx)("button",{onClick:()=>{o("/profile"),h(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile"}),"/ingredient-recommendations"!==x&&(0,n.jsx)("button",{onClick:()=>{o("/ingredient-recommendations"),h(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Search by Ingredient"}),(0,n.jsx)("hr",{className:"my-1"}),(0,n.jsx)("button",{onClick:()=>{a(),o("/"),h(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-gray-100",children:"Logout"})]})]})})}},845:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(43),l=s(180),i=s(625),n=s(526),a=s(291),o=s(579);const c=()=>{const{user:e,isAuthenticated:t,isLoading:s}=(0,i.A)(),c=(0,l.Zp)(),[d,h]=(0,r.useState)([]),[m,x]=(0,r.useState)(!0);(0,r.useEffect)((()=>{s||t||c("/login")}),[t,c,s]),(0,r.useEffect)((()=>{if(!t)return;(async()=>{try{const e=await a._e.getFavorites();h(e.data.map((e=>({id:e.recipe_id,title:e.title,image:e.image_url,isFavorite:!0})))),x(!1)}catch(e){console.error("Error fetching favorites:",e),x(!1)}})()}),[t]);return s||m?(0,o.jsx)("div",{className:"min-h-screen bg-red-400 flex items-center justify-center",children:(0,o.jsx)("div",{className:"loading loading-spinner loading-lg text-white"})}):(0,o.jsxs)("div",{className:"min-h-screen bg-red-400 p-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-8 px-1",children:[(0,o.jsx)("div",{className:"flex-1"}),(0,o.jsx)("div",{className:"text-center flex-1",children:(0,o.jsx)("h1",{className:"text-white text-2xl font-bold",children:"Favorites"})}),(0,o.jsx)("div",{className:"flex-1 flex justify-end pt-1",children:(0,o.jsx)(n.A,{})})]}),d.length>0?(0,o.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 mx-auto max-w-6xl mb-8",children:d.map((e=>(0,o.jsx)("div",{className:"flex-shrink-0 transform transition duration-300 hover:scale-105",children:(0,o.jsxs)("div",{className:"relative w-full aspect-square rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[(0,o.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110",onClick:()=>c(`/recipe/${e.id}`)}),(0,o.jsx)("button",{className:"absolute top-2 right-2 bg-pink-100 rounded-full p-1.5 shadow-sm hover:bg-pink-200 transition-colors",onClick:()=>(async e=>{try{await a._e.toggleFavorite(e),h(d.filter((t=>t.id!==e)))}catch(t){console.error("Error removing from favorites:",t)}})(e.id),"aria-label":"Remove from favorites",title:"Remove from favorites",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})}),(0,o.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-xl py-2",children:(0,o.jsx)("p",{className:"text-center text-gray-800 font-medium text-sm",children:e.title})})]})},e.id)))}):(0,o.jsxs)("div",{className:"text-center py-10",children:[(0,o.jsx)("p",{className:"text-white text-lg mb-4",children:"You haven't added any favorites yet"}),(0,o.jsx)("button",{onClick:()=>c("/recipes"),className:"btn bg-white text-red-500 hover:bg-red-100 border-none hover:scale-105 transition-transform duration-300 hover:shadow-md",children:"Explore Recipes"})]})]})}}}]);
//# sourceMappingURL=845.46cf663c.chunk.js.map