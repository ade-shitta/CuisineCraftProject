"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[159],{159:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var a=t(43),s=t(216),l=t(625),o=t(291),i=t(579);const n=a.memo((e=>{let{recipe:r,onToggleFavorite:t,onCardClick:s}=e;const l=(0,a.useCallback)((e=>{e.stopPropagation(),t(r.id)}),[r.id,t]),o=(0,a.useCallback)((()=>{s(r.id)}),[r.id,s]);return(0,i.jsx)("div",{className:"flex-shrink-0 transform transition duration-300 hover:scale-105",children:(0,i.jsxs)("div",{className:"relative w-full aspect-square rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all",children:[(0,i.jsx)("img",{src:r.image||"/placeholder.svg",alt:r.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110",loading:"lazy",onClick:o}),(0,i.jsx)("button",{className:"absolute top-2 right-2 bg-pink-100 rounded-full p-1.5 shadow-sm hover:bg-pink-200 transition-colors duration-300",onClick:l,"aria-label":r.isFavorite?"Remove from favorites":"Add to favorites",title:r.isFavorite?"Remove from favorites":"Add to favorites",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${r.isFavorite?"text-red-500":"text-gray-400"} transition-colors duration-300`,viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})}),(0,i.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-xl py-2 transition-colors duration-300 hover:bg-gray-50",children:(0,i.jsx)("p",{className:"text-center text-gray-800 font-medium text-sm",children:r.title})})]})})})),d=()=>{const{isAuthenticated:e,isLoading:r}=(0,l.A)(),t=(0,s.Zp)(),d=(0,s.zy)(),[c,h]=(0,a.useState)(""),[u,x]=(0,a.useState)([]),[g,m]=(0,a.useState)(!0),[v,b]=(0,a.useState)(1);(0,a.useEffect)((()=>{if(!e)return;(async()=>{m(!0);try{const e=(await o._e.getAll()).data.map((e=>({id:e.recipe_id,title:e.title,image:e.image_url,isFavorite:e.isFavorite})));x(e),m(!1)}catch(e){console.error("Error fetching recipes:",e),m(!1)}})()}),[e,d.key]),(0,a.useEffect)((()=>{r||e||t("/login")}),[r,e,t]);const f=(0,a.useCallback)((async e=>{try{await o._e.toggleFavorite(e),x((r=>r.map((r=>r.id===e?{...r,isFavorite:!r.isFavorite}:r))))}catch(r){console.error("Error toggling favorite:",r)}}),[]),p=(0,a.useCallback)((e=>{t(`/recipe/${e}`)}),[t]),w=(0,a.useCallback)((e=>{h(e.target.value),b(1)}),[]),j=(0,a.useMemo)((()=>u.filter((e=>e.title.toLowerCase().includes(c.toLowerCase())))),[u,c]),y=(0,a.useMemo)((()=>{const e=12*v,r=e-12;return j.slice(r,e)}),[j,v,12]),N=(0,a.useMemo)((()=>Math.ceil(j.length/12)),[j.length,12]),k=(0,a.useCallback)((e=>b(e)),[]),C=(0,a.useCallback)((()=>{b((e=>Math.min(e+1,N)))}),[N]),M=(0,a.useCallback)((()=>{b((e=>Math.max(e-1,1)))}),[]);return r||g?(0,i.jsx)("div",{className:"min-h-screen bg-red-400 flex flex-col items-center justify-center",children:(0,i.jsx)("div",{className:"loading loading-bars loading-lg text-white"})}):(0,i.jsxs)("div",{className:"min-h-screen bg-red-400 p-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-8 px-1",children:[(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)("button",{onClick:()=>t("/home"),className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110","aria-label":"Back to home",title:"Back to home",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),(0,i.jsx)("div",{className:"text-center flex-1",children:(0,i.jsx)("h1",{className:"text-white text-2xl font-bold",children:"Recipes"})}),(0,i.jsx)("div",{className:"flex-1 flex justify-end pt-1",children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",placeholder:"Search recipes...",className:"input input-bordered max-w-xs focus:ring-2 focus:ring-red-300 focus:border-red-300 transition-all duration-300 hover:border-red-200",value:c,onChange:w}),c&&(0,i.jsx)("button",{onClick:()=>h(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-red-500 transition-colors duration-300","aria-label":"Clear search",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})})]}),0!==u.length||g?y.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 mx-auto max-w-6xl mb-8",children:y.map((e=>(0,i.jsx)(n,{recipe:e,onToggleFavorite:f,onCardClick:p},e.id)))}),N>1&&(0,i.jsxs)("div",{className:"flex flex-col items-center gap-2 my-4",children:[(0,i.jsxs)("div",{className:"flex justify-center gap-2",children:[v>=3&&(0,i.jsx)("button",{onClick:()=>k(1),className:"px-4 py-2 rounded-full border border-gray-300 bg-white text-gray-700 hover:bg-gray-100 hover:scale-105 transition-all duration-300 hover:shadow-md",children:"\xab First"}),v>1&&(0,i.jsx)("button",{onClick:M,className:"px-4 py-2 rounded-full border border-gray-300 bg-white text-gray-700 hover:bg-gray-100 hover:scale-105 transition-all duration-300 hover:shadow-md",children:"Previous"}),(()=>{const e=[],r=Math.floor(2.5);let t=Math.max(1,v-r),a=Math.min(N,t+5-1);a-t+1<5&&(t=Math.max(1,a-5+1));for(let s=t;s<=a;s++)e.push((0,i.jsx)("button",{onClick:()=>k(s),className:"px-4 py-2 rounded-full border "+(v===s?"bg-red-500 text-white border-red-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"),children:s},s));return e})(),v<N&&(0,i.jsx)("button",{onClick:C,className:"px-4 py-2 rounded-full border border-gray-300 bg-white text-gray-700 hover:bg-gray-100 hover:scale-105 transition-all duration-300 hover:shadow-md",children:"Next"}),v<N&&v<=24&&(0,i.jsx)("button",{onClick:()=>k(N),className:"px-4 py-2 rounded-full border border-gray-300 bg-white text-gray-700 hover:bg-gray-100 hover:scale-105 transition-all duration-300 hover:shadow-md",children:"Last \xbb"})]}),(0,i.jsxs)("div",{className:"text-gray-600 text-sm",children:["Page ",v," of ",N]})]})]}):(0,i.jsx)("div",{className:"text-center text-white py-8",children:"No recipes found matching your search."}):(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md text-center max-w-md mx-auto",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"No Matching Recipes"}),(0,i.jsx)("p",{className:"mb-4",children:"No recipes match your dietary preferences."}),(0,i.jsx)("button",{onClick:()=>t("/dietary-preferences"),className:"btn bg-red-500 hover:bg-red-600 text-white border-none hover:scale-105 transition-all duration-300 hover:shadow-lg",children:"Update Preferences"})]})]})},c=a.memo(d)}}]);
//# sourceMappingURL=159.607ca2de.chunk.js.map