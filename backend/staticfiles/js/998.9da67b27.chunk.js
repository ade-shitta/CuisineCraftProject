"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[998],{274:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(43),l=s(579);const n=e=>{let{size:t="md",color:s="white",message:r}=e;const n={sm:"8px",md:"10px",lg:"12px"};return(0,l.jsx)("div",{className:"min-h-screen bg-red-400 flex flex-col items-center justify-center",children:(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("div",{className:"flex space-x-3",children:[...Array(3)].map(((e,r)=>(0,l.jsx)("div",{className:`bg-${s} rounded-full animate-bounce`,style:{width:n[t],height:n[t],animationDelay:.1*r+"s"}},r)))}),r&&(0,l.jsx)("div",{className:`mt-4 text-${s} ${{sm:"text-sm",md:"text-base",lg:"text-xl"}[t]} font-medium loading-dots`,children:r})]})})},i=r.memo(n)},526:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(43),l=s(180),n=s(625),i=s(579);const a=e=>{let{showMenu:t=!0}=e;const{user:s,logout:a}=(0,n.A)(),c=(0,l.Zp)(),d=(0,l.zy)(),[o,x]=(0,r.useState)(!1),m=(0,r.useRef)(null),u=d.pathname;(0,r.useEffect)((()=>{function e(e){m.current&&!m.current.contains(e.target)&&x(!1)}return o&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[o]);return(0,i.jsx)("div",{children:t&&(0,i.jsxs)("div",{ref:m,children:[(0,i.jsx)("button",{onClick:()=>{x(!o)},className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-md","aria-label":"Menu",title:"Menu",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),o&&(0,i.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-20",children:[(0,i.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-700",children:["Hi, ",(null===s||void 0===s?void 0:s.username)||"Guest"]}),(0,i.jsx)("hr",{className:"my-1"}),"/home"!==u&&(0,i.jsx)("button",{onClick:()=>{c("/home"),x(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Home"}),"/profile"!==u&&(0,i.jsx)("button",{onClick:()=>{c("/profile"),x(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile"}),"/ingredient-recommendations"!==u&&(0,i.jsx)("button",{onClick:()=>{c("/ingredient-recommendations"),x(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Search by Ingredient"}),(0,i.jsx)("hr",{className:"my-1"}),(0,i.jsx)("button",{onClick:()=>{a(),c("/"),x(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-gray-100",children:"Logout"})]})]})})}},998:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var r=s(43),l=s(180),n=s(625),i=s(526),a=s(291),c=s(274),d=s(579);const o=()=>{const{isAuthenticated:e,isLoading:t}=(0,n.A)(),s=(0,l.Zp)(),o=(0,r.useRef)(null),[x,m]=(0,r.useState)(""),[u,h]=(0,r.useState)([]),[p,g]=(0,r.useState)([]),[f,b]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),[w,y]=(0,r.useState)("exact"),[N,k]=(0,r.useState)({});(0,r.useEffect)((()=>{t||e||s("/login")}),[e,s,t]),(0,r.useEffect)((()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&v(!1)};return j&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[j]);const C=(0,r.useCallback)((async e=>{if(e.preventDefault(),x.trim()){b(!0);try{const e=(await a._e.searchByIngredients(x.trim())).data.map((e=>({id:e.recipe_id,title:e.title,image:e.image_url,isFavorite:e.isFavorite})));h(e);const t=await a._e.getAlmostMatchingRecipes(x.trim(),2,10);g(t.data),v(!0),y(e.length>0?"exact":"almost")}catch(t){console.error("Error searching recipes by ingredients:",t)}finally{b(!1)}}}),[x]),M=(0,r.useCallback)((e=>{s(`/recipe/${e}`)}),[s]);return t?(0,d.jsx)(c.A,{}):(0,d.jsxs)("div",{className:"min-h-screen bg-red-400 flex flex-col",children:[(0,d.jsx)("div",{className:"absolute top-4 right-4",children:(0,d.jsx)(i.A,{})}),(0,d.jsx)("div",{className:"flex-grow flex flex-col items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-xl p-6 shadow-lg",children:[(0,d.jsx)("h2",{className:"text-xl font-medium text-center mb-6 text-gray-500",children:"Find Recipes With Your Ingredients"}),(0,d.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,d.jsx)("div",{className:"bg-red-200 bg-opacity-50 rounded-full p-4",children:(0,d.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"Add Your Ingredients Here",className:"w-full bg-transparent text-center text-red-600 placeholder-red-400 focus:outline-none text-lg"})}),(0,d.jsx)("div",{className:"flex justify-center mt-4",children:(0,d.jsx)("button",{type:"submit",disabled:f,className:"bg-red-500 text-white hover:bg-red-600 px-6 py-2 rounded-full shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-red-400 disabled:opacity-50 w-auto max-w-xs mx-auto",children:f?"Searching...":"Search Recipes"})})]}),(0,d.jsxs)("div",{className:"mt-4 text-gray-500 text-center text-sm",children:[(0,d.jsx)("p",{children:'Enter ingredients separated by commas (e.g., "chicken, rice, garlic")'}),(0,d.jsx)("p",{className:"mt-2 text-green-600",children:"We'll also suggest recipes you can make with alternatives!"})]})]})}),j&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{ref:o,className:"bg-white rounded-3xl w-full max-w-2xl px-6 py-8 shadow-xl",children:[(0,d.jsx)("h2",{className:"text-xl font-medium text-center mb-6 text-gray-700",children:"Possible Recipes With Your Ingredients"}),(0,d.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,d.jsxs)("button",{className:"flex-1 py-2 px-4 text-center "+("exact"===w?"border-b-2 border-red-500 text-red-500 font-medium":"text-gray-500"),onClick:()=>y("exact"),children:["Exact Matches ",u.length>0&&`(${u.length})`]}),(0,d.jsxs)("button",{className:"flex-1 py-2 px-4 text-center "+("almost"===w?"border-b-2 border-red-500 text-red-500 font-medium":"text-gray-500"),onClick:()=>y("almost"),children:["Almost Matches ",p.length>0&&`(${p.length})`]})]}),"exact"===w&&(0,d.jsx)("div",{className:"space-y-4 max-h-[400px] overflow-y-auto px-2",children:0===u.length?(0,d.jsx)("p",{className:"text-center py-6 text-gray-400",children:'No exact matches found. Check "Almost Matches" tab for recipes you can make with just a few more ingredients.'}):u.map((e=>(0,d.jsxs)("div",{onClick:()=>M(e.id),className:"bg-red-500 text-white rounded-2xl py-4 px-5 flex justify-between items-center cursor-pointer hover:bg-red-600 transition-colors shadow-md",children:[(0,d.jsx)("span",{className:"text-base font-medium",children:e.title}),(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]},e.id)))}),"almost"===w&&(0,d.jsx)("div",{className:"space-y-6 max-h-[400px] overflow-y-auto px-2",children:0===p.length?(0,d.jsx)("p",{className:"text-center py-6 text-gray-400",children:"No almost-matching recipes found with your ingredients."}):p.map((e=>(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100",children:[(0,d.jsxs)("div",{onClick:()=>M(e.recipe.recipe_id),className:"bg-red-500 text-white py-3 px-4 flex justify-between items-center cursor-pointer hover:bg-red-600 transition-colors",children:[(0,d.jsx)("span",{className:"text-base font-medium",children:e.recipe.title}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsxs)("span",{className:"bg-white text-red-500 text-xs font-bold rounded-full px-2 py-1 mr-2",children:["Missing ",e.missing_count]}),(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold text-gray-500 mb-2",children:"Missing Ingredients:"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.missing_ingredients.map((e=>(0,d.jsx)("span",{className:"bg-red-100 text-red-600 text-xs font-medium px-2 py-1 rounded-full",children:e},e)))}),e.substitutions.length>0&&(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsxs)("button",{onClick:()=>{return t=e.recipe.recipe_id,void k((e=>({...e,[t]:!e[t]})));var t},className:"text-sm text-blue-500 flex items-center",children:[(0,d.jsxs)("span",{children:[N[e.recipe.recipe_id]?"Hide":"Show"," substitution ideas"]}),(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 transform transition-transform "+(N[e.recipe.recipe_id]?"rotate-180":""),viewBox:"0 0 20 20",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),N[e.recipe.recipe_id]&&(0,d.jsx)("div",{className:"mt-2 pl-2 border-l-2 border-blue-200",children:e.substitutions.map((e=>(0,d.jsxs)("div",{className:"mb-2",children:[(0,d.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Instead of ",(0,d.jsx)("span",{className:"text-red-500",children:e.ingredient}),", try:"]}),(0,d.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.substitutes.length>0?e.substitutes.map((e=>(0,d.jsx)("span",{className:"bg-green-100 text-green-600 text-xs px-2 py-0.5 rounded",children:e},e))):(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"No substitutions found"})})]},e.ingredient)))})]})]})]},e.recipe.recipe_id)))}),(0,d.jsx)("div",{className:"mt-8 flex justify-center",children:(0,d.jsx)("button",{onClick:()=>v(!1),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-8 py-2 rounded-full transition-colors",children:"Close"})})]})})]})}}}]);
//# sourceMappingURL=998.9da67b27.chunk.js.map