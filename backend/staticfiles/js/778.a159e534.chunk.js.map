{"version":3,"file":"static/js/778.a159e534.chunk.js","mappings":"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","sources":["pages/SignupPage.tsx"],"sourcesContent":["\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { useAuth } from \"../context/AuthContext\"\r\nimport { fetchCSRFToken } from \"../services/csrf\"\r\n\r\nconst SignupPage = () => {\r\n  const navigate = useNavigate()\r\n  const { signup } = useAuth()\r\n\r\n  const [formData, setFormData] = useState({\r\n    username: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    dateOfBirth: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  })\r\n\r\n  const [errors, setErrors] = useState<Record<string, string>>({})\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    setFormData((prev) => ({ ...prev, [name]: value }))\r\n\r\n    // Clear error when user types\r\n    if (errors[name]) {\r\n      setErrors((prev) => {\r\n        const newErrors = { ...prev }\r\n        delete newErrors[name]\r\n        return newErrors\r\n      })\r\n    }\r\n  }\r\n\r\n  const validate = () => {\r\n    const newErrors: Record<string, string> = {}\r\n\r\n    if (!formData.username) newErrors.username = \"Username is required\"\r\n    if (!formData.firstName) newErrors.firstName = \"First name is required\"\r\n    if (!formData.lastName) newErrors.lastName = \"Last name is required\"\r\n    if (!formData.email) newErrors.email = \"Email is required\"\r\n    else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) newErrors.email = \"Email is invalid\"\r\n    if (!formData.dateOfBirth) newErrors.dateOfBirth = \"Date of birth is required\"\r\n    if (!formData.password) newErrors.password = \"Password is required\"\r\n    else if (formData.password.length < 6) newErrors.password = \"Password must be at least 6 characters\"\r\n    if (formData.password !== formData.confirmPassword) newErrors.confirmPassword = \"Passwords do not match\"\r\n\r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (validate()) {\r\n      try {\r\n        // Ensure we have a fresh CSRF token\r\n        await fetchCSRFToken()\r\n        \r\n        await signup({\r\n          username: formData.username,\r\n          firstName: formData.firstName,\r\n          lastName: formData.lastName,\r\n          email: formData.email,\r\n          dateOfBirth: formData.dateOfBirth,\r\n          password: formData.password,\r\n        })\r\n        navigate(\"/dietary-preferences\")\r\n      } catch (error) {\r\n        console.error(\"Signup error:\", error)\r\n        setErrors({ form: \"Failed to sign up. Please try again.\" })\r\n      }\r\n    }\r\n  }\r\n\r\n  // Create error message component for consistent styling\r\n  const ErrorMessage = ({ message }: { message: string }) => (\r\n    <div className=\"error-message\">\r\n      <p>{message}</p>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center p-4\" style={{ backgroundColor: \"#ff7b7b\" }}>\r\n      <div className=\"w-full max-w-md bg-transparent p-8\">\r\n        <h1 className=\"text-white text-2xl font-bold mb-6 text-center\">Signup</h1>\r\n        \r\n        {errors.form && <ErrorMessage message={errors.form} />}\r\n\r\n        <form onSubmit={handleSubmit} className=\"signup-form space-y-4\">\r\n          <div className=\"form-group\">\r\n            <label className=\"block text-white mb-2\">Username</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Enter a username\"\r\n              className=\"form-input w-full py-3 px-4 rounded-3xl bg-white bg-opacity-90 border-none text-gray-800\"\r\n              value={formData.username}\r\n              onChange={handleChange}\r\n            />\r\n            {errors.username && <ErrorMessage message={errors.username} />}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"block text-white mb-2\">First Name</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              placeholder=\"First Name\"\r\n              className=\"form-input w-full py-3 px-4 rounded-3xl bg-white bg-opacity-90 border-none text-gray-800\"\r\n              value={formData.firstName}\r\n              onChange={handleChange}\r\n            />\r\n            {errors.firstName && <ErrorMessage message={errors.firstName} />}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"block text-white mb-2\">Last Name</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              placeholder=\"Last Name\"\r\n              className=\"form-input w-full py-3 px-4 rounded-3xl bg-white bg-opacity-90 border-none text-gray-800\"\r\n              value={formData.lastName}\r\n              onChange={handleChange}\r\n            />\r\n            {errors.lastName && <ErrorMessage message={errors.lastName} />}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"block text-white mb-2\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"example@example.com\"\r\n              className=\"form-input w-full py-3 px-4 rounded-3xl bg-white bg-opacity-90 border-none text-gray-800\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n            />\r\n            {errors.email && <ErrorMessage message={errors.email} />}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"block text-white mb-2\">Date Of Birth (DD/MM/YYYY)</label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"dateOfBirth\"\r\n              placeholder=\"DD/MM/YYYY\"\r\n              className=\"form-input w-full py-3 px-4 rounded-3xl bg-white bg-opacity-90 border-none text-gray-800\"\r\n              value={formData.dateOfBirth}\r\n              onChange={handleChange}\r\n            />\r\n            {errors.dateOfBirth && <ErrorMessage message={errors.dateOfBirth} />}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"block text-white mb-2\">Password</label>\r\n            <div className=\"relative\">\r\n              <input\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                name=\"password\"\r\n                placeholder=\"••••••••\"\r\n                className=\"form-input w-full py-3 px-4 rounded-3xl bg-white bg-opacity-90 border-none pr-10 text-gray-800\"\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-700\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                aria-label={showPassword ? \"Hide password\" : \"Show password\"}\r\n              >\r\n                {showPassword ? (\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\" />\r\n                    <path fillRule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                ) : (\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z\" clipRule=\"evenodd\" />\r\n                    <path d=\"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z\" />\r\n                  </svg>\r\n                )}\r\n              </button>\r\n            </div>\r\n            {errors.password && <ErrorMessage message={errors.password} />}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"block text-white mb-2\">Confirm Password</label>\r\n            <div className=\"relative\">\r\n              <input\r\n                type={showConfirmPassword ? \"text\" : \"password\"}\r\n                name=\"confirmPassword\"\r\n                placeholder=\"••••••••\"\r\n                className=\"form-input w-full py-3 px-4 rounded-3xl bg-white bg-opacity-90 border-none pr-10 text-gray-800\"\r\n                value={formData.confirmPassword}\r\n                onChange={handleChange}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-700\"\r\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                aria-label={showConfirmPassword ? \"Hide password\" : \"Show password\"}\r\n              >\r\n                {showConfirmPassword ? (\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\" />\r\n                    <path fillRule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                ) : (\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z\" clipRule=\"evenodd\" />\r\n                    <path d=\"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z\" />\r\n                  </svg>\r\n                )}\r\n              </button>\r\n            </div>\r\n            {errors.confirmPassword && <ErrorMessage message={errors.confirmPassword} />}\r\n          </div>\r\n\r\n          <button \r\n            type=\"submit\" \r\n            className=\"signup-button w-full py-3 px-4 bg-red-500 hover:bg-red-600 text-white border-none rounded-3xl text-lg mt-5\"\r\n          >\r\n            Sign Up\r\n          </button>\r\n\r\n          <div className=\"text-center text-white mt-5 login-link\">\r\n            <p>\r\n              Already Have An Account? <a href=\"/login\" className=\"text-blue-300 hover:underline\">Log In Here</a>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignupPage"],"names":["SignupPage","navigate","useNavigate","signup","useAuth","formData","setFormData","useState","username","firstName","lastName","email","dateOfBirth","password","confirmPassword","errors","setErrors","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","handleChange","e","name","value","target","prev","newErrors","ErrorMessage","_ref","message","_jsx","className","children","style","backgroundColor","_jsxs","form","onSubmit","async","preventDefault","validate","test","length","Object","keys","fetchCSRFToken","error","console","type","placeholder","onChange","onClick","xmlns","viewBox","fill","d","fillRule","clipRule","href"],"sourceRoot":""}